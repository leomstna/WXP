<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arquivo Confidencial - Sobrevivência</title>
    <style>
        * { box-sizing: border-box; }
        
        body {
            margin: 0;
            background-color: #050505;
            color: #33ff33;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            text-shadow: 0px 0px 5px #33ff33;
        }

        .crt::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        #game-container {
            width: 100%;
            max-width: 800px;
            height: 90vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            border: 2px solid #33ff33;
            box-shadow: inset 0px 0px 20px rgba(51, 255, 51, 0.2);
            position: relative;
            background-color: #000;
        }

        #texto-historia {
            flex-grow: 1;
            font-size: 18px;
            line-height: 1.5;
            overflow-y: auto;
            margin-bottom: 20px;
            padding-right: 10px;
            white-space: pre-wrap;
        }

        #botoes-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            min-height: 150px;
        }

        .botao-escolha {
            background-color: transparent;
            color: #33ff33;
            border: 1px solid #33ff33;
            padding: 15px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 16px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            text-shadow: 0px 0px 5px #33ff33;
        }

        .botao-escolha:hover {
            background-color: #33ff33;
            color: #000;
            box-shadow: 0px 0px 15px #33ff33;
        }
    </style>
</head>
<body class="crt">

    <div id="game-container">
        <div id="texto-historia">Iniciando conexão segura... Aguardando sinal...</div>
        <div id="botoes-container"></div>
    </div>

    <script>
        const audioTeclado = new Audio('teclando.MP3');
        const audioFundo = new Audio('radio.mp3');
        audioFundo.loop = true;
        audioFundo.volume = 0.3;

        // VERSÃO LITE: Apenas 10 cenas para caber no celular.
        const bancoDeDados = [
          {
            "id": "cena_1",
            "texto": "A TV de tubo chia na sala em ruínas da Casa de Usher. Na tela granulada de VHS, um aviso de segurança decreta: 'Não olhe para a lua'. A madeira podre sob seus pés range, como se a casa respirasse.",
            "opcoes": [
              { "texto": "Desligar a TV e encarar a escuridão do corredor", "proximo_id": "cena_2" },
              { "texto": "Olhar pela janela fechada com tábuas", "proximo_id": "cena_3" }
            ]
          },
          {
            "id": "cena_2",
            "texto": "O corredor desce mais do que o alicerce permitiria. Nas paredes úmidas, você nota o logo da Fundação SCP entalhado na pedra profana. Um odor sufocante de cobre e formol invade seus pulmões.",
            "opcoes": [
              { "texto": "Descer até a zona de contenção violada", "proximo_id": "cena_4" },
              { "texto": "Tentar arrombar a pesada porta blindada à direita", "proximo_id": "cena_5" }
            ]
          },
          {
            "id": "cena_3",
            "texto": "Pelas frestas da janela, a luz de uma lua imensa e avermelhada banha o pátio. No telhado vizinho, um criptídeo esguio de pernas alongadas e rosto sem feições uiva para o céu noturno.",
            "opcoes": [
              { "texto": "Recuar em silêncio antes que a besta note", "proximo_id": "cena_5" },
              { "texto": "Procurar uma arma improvisada no chão de tábuas", "proximo_id": "cena_6" }
            ]
          },
          {
            "id": "cena_4",
            "texto": "A sala cheira a sangue doentio. Um caçador com roupas de couro rasgadas jaz morto ao lado de frascos de Yharnam. Das sombras profundas do necrotério, o som molhado de algo mastigando ecoa.",
            "opcoes": [
              { "texto": "Saquear o sangue pálido do cadáver", "proximo_id": "cena_7" },
              { "texto": "Sacar sua arma e avançar contra a escuridão", "proximo_id": "cena_8" }
            ]
          },
          {
            "id": "cena_5",
            "texto": "A porta cede. Você entra num labirinto úmido de masmorras sem fim. Um guerreiro ressecado está escorado na parede, murmurando sobre 'Buriedbornes'. O frio sepulcral paralisa seus ossos.",
            "opcoes": [
              { "texto": "Roubar o amuleto de alma do guerreiro morto", "proximo_id": "cena_8" },
              { "texto": "Ignorá-lo e mergulhar pelas catacumbas", "proximo_id": "cena_9" }
            ]
          },
          {
            "id": "cena_6",
            "texto": "Você ergue um atiçador de lareira enferrujado. Subitamente, o som zumbidor e implacável de uma lâmina descendo compassadamente começa a soar do teto, idêntico a um pêndulo.",
            "opcoes": [
              { "texto": "Rastejar sob a trajetória do pêndulo", "proximo_id": "cena_9" },
              { "texto": "Quebrar o vidro e fugir para o nevoeiro", "proximo_id": "cena_10" }
            ]
          },
          {
            "id": "cena_7",
            "texto": "O sangue arde nas veias e a geometria da sala colapsa. Você é sugado para um desfiladeiro de pilares titânicos esverdeados, cobertos por lodo e runas ininteligíveis da Cidade Sem Nome.",
            "opcoes": [
              { "texto": "Tocar a runa que pulsa com luz doentia", "proximo_id": "morte" },
              { "texto": "Correr cegamente para o altar de obsidiana", "proximo_id": "morte" }
            ]
          },
          {
            "id": "cena_8",
            "texto": "A iluminação falha e revela uma anomalia Classe Keter: uma massa de carne podre com dezenas de olhos frenéticos. Só de olhar, sua mente lateja, a sanidade escorrendo feito areia.",
            "opcoes": [
              { "texto": "Fechar os olhos e andar para trás lentamente", "proximo_id": "morte" },
              { "texto": "Atacar a massa disforme em puro desespero", "proximo_id": "morte" }
            ]
          },
          {
            "id": "cena_9",
            "texto": "Nas paredes não-euclidianas do labirinto, rostos esticados imploram. Uma fenda dimensional no ar mostra uma estática de VHS, transmitindo seu próprio rosto chorando lágrimas de mercúrio.",
            "opcoes": [
              { "texto": "Atravessar a distorção da TV", "proximo_id": "morte" },
              { "texto": "Tapar os ouvidos e seguir pelo corredor", "proximo_id": "morte" }
            ]
          },
          {
            "id": "cena_10",
            "texto": "Pisando no jardim morto dos Usher, a névoa espessa revela o Mothman de três metros. Suas asas bloqueiam o luar e seus olhos vermelhos escavam o fundo da sua alma.",
            "opcoes": [
              { "texto": "Gritar e correr de volta para a mansão", "proximo_id": "morte" },
              { "texto": "Jogar-se no fosso do mausoléu da família", "proximo_id": "morte" }
            ]
          },
          {
            "id": "morte",
            "texto": "O abismo te consome. A transmissão falhou. A sua sanidade chegou a zero e as entidades tomaram conta do que sobrou de você. \n\n=== FIM DA DEMONSTRAÇÃO ===",
            "opcoes": [
              { "texto": "Reiniciar o Pesadelo", "proximo_id": "cena_1" }
            ]
          }
        ];

        const elementoTexto = document.getElementById('texto-historia');
        const elementoBotoes = document.getElementById('botoes-container');
        let digitando = false;

        document.body.addEventListener('click', () => {
            if (elementoTexto.innerHTML.includes("Iniciando conexão")) {
                try { audioFundo.play(); } catch(e){}
                carregarCena("cena_1");
            }
        }, { once: true });

        function encontrarCena(id) {
            return bancoDeDados.find(cena => cena.id === id);
        }

        async function carregarCena(id) {
            const cena = encontrarCena(id);
            if (!cena) return;

            elementoBotoes.innerHTML = ''; 
            elementoTexto.innerHTML = ''; 
            
            await digitarTexto(cena.texto);

            cena.opcoes.forEach(opcao => {
                const botao = document.createElement('button');
                botao.className = 'botao-escolha';
                botao.innerText = `> ${opcao.texto}`;
                botao.onclick = () => {
                    if(!digitando) carregarCena(opcao.proximo_id);
                };
                elementoBotoes.appendChild(botao);
            });
        }

        function digitarTexto(texto) {
            return new Promise(resolve => {
                digitando = true;
                let i = 0;
                try { audioTeclado.play(); } catch(e){}

                function proximaLetra() {
                    if (i < texto.length) {
                        elementoTexto.innerHTML += texto.charAt(i) === '\n' ? '<br>' : texto.charAt(i);
                        elementoTexto.scrollTop = elementoTexto.scrollHeight;
                        i++;
                        setTimeout(proximaLetra, 20); 
                    } else {
                        audioTeclado.pause();
                        audioTeclado.currentTime = 0;
                        digitando = false;
                        resolve();
                    }
                }
                proximaLetra();
            });
        }
    </script>
</body>
</html>